<div class="invoice-container">
  <!-- Header -->
  <div class="invoice-header">
    <div>
      <h3 class="invoice-title">ðŸ§¾ Invoice</h3>
      <p class="invoice-subtitle">Add line items, apply discounts and calculate the final amount.</p>
    </div>
  </div>

  <!-- Items section -->
  <div class="items-card">
    <!-- Items table header -->
    <div class="items-header">
      <span>Item</span>
      <span class="right-align">Amount (â‚¹)</span>
      <span class="remove-col"></span>
    </div>

    <!-- Dynamic Rows -->
    <div *ngFor="let row of items; let i = index" class="item-row">
      <select [(ngModel)]="row.item" [name]="'item' + i" class="dropdown">
        <option value="" disabled>Select Item</option>
        <option *ngFor="let item of availableItems" [value]="item">{{ item }}</option>
      </select>

      <input
        type="number"
        [(ngModel)]="row.amount"
        [name]="'amount' + i"
        class="amount-input"
        placeholder="0"
      />

      <button
        *ngIf="items.length > 1"
        class="remove-btn"
        type="button"
        (click)="removeItem(i)"
        title="Remove row"
      >
        âœ•
      </button>
    </div>

    <!-- Add New Row -->
    <div class="add-btn-container">
      <button class="add-btn" type="button" (click)="addItem()">
        + Add line
      </button>
    </div>
  </div>

  <!-- Summary Box -->
  <div class="summary-box">
    <div class="summary-row">
      <span>Items Total</span>
      <strong>â‚¹{{ itemsTotal }}</strong>
    </div>

    <div class="summary-row">
      <span>Discount Amount</span>
      <input
        type="number"
        [(ngModel)]="discount"
        class="summary-input"
        placeholder="0"
      />
    </div>

    <div class="summary-row">
      <span>Referral Bonus</span>
      <input
        type="number"
        [(ngModel)]="referralBonus"
        class="summary-input"
        placeholder="0"
      />
    </div>

    <div class="summary-row final">
      <span>Final Amount</span>
      <strong>â‚¹{{ finalAmount }}</strong>
    </div>
  </div>

  <!-- Save Button -->
  <div class="actions">
    <button class="save-btn" (click)="saveInvoice()">
      ðŸ’¾ Save Invoice
    </button>
  </div>
</div>
