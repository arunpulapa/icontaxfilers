<div class="client-docs-page">
  <div class="client-docs-card">

    <!-- HEADER -->
    <header class="client-docs-header">
      <div class="header-left">
        <h1 class="page-title">My Documents</h1>
        <p class="page-subtitle">
          Upload, organize, and manage your documents securely.
        </p>
      </div>

      <div class="header-right">
        <div class="logged-user-pill">
          ðŸ‘¤ {{ clientName }}
        </div>

        <div class="doc-count-pill" *ngIf="documents.length">
          ðŸ“ {{ documents.length }} document{{ documents.length > 1 ? 's' : '' }}
        </div>
      </div>
    </header>

    <!-- MAIN -->
    <main class="client-docs-layout">

      <!-- UPLOAD PANEL -->
      <section class="upload-panel">
        <h2>Upload documents</h2>

        <select [(ngModel)]="documentType" class="select-input">
          <option value="">Select document type</option>
          <option *ngFor="let t of documentTypes" [value]="t">
            {{ t }}
          </option>
        </select>

        <!-- DROP ZONE -->
        <div class="drop-zone"
             [class.drop-zone--active]="isDragOver"
             (dragover)="onDragOver($event)"
             (dragleave)="onDragLeave($event)"
             (drop)="onDrop($event)">

       <p class="drop-title">Drag & drop files here</p>
<p class="drop-or">or</p>

<button type="button" class="btn-ghost" (click)="fileInput.click()">
  Choose files
</button>

<p class="drop-hint">
  PDF, JPG, PNG, DOCX up to 10MB each
</p>


          <input
            #fileInput
            type="file"
            multiple
            hidden
            (change)="onFilesSelected($event)"
          />
        </div>

        <!-- SELECTED FILES -->
        <div *ngIf="selectedFiles.length">
          <div *ngFor="let f of selectedFiles; let i = index">
            {{ f.name }}
            <button type="button" (click)="removeSelected(i)">âœ•</button>
          </div>
        </div>

        <!-- UPLOAD BUTTON -->
        <button
          class="btn-primary"
          (click)="upload()"
          [disabled]="uploading || !documentType || !selectedFiles.length">
          {{ uploading ? 'Uploadingâ€¦' : 'Upload' }}
        </button>
      </section>

      <!-- LIST PANEL -->
      <section class="list-panel">
        <input
          type="text"
          [(ngModel)]="search"
          (input)="applyFilter()"
          placeholder="Search documents" />

        <table *ngIf="filteredDocuments.length">
          <tr *ngFor="let d of filteredDocuments">
            <td>{{ d.fileName }}</td>
            <td>{{ d.documentType }}</td>
            <td>{{ d.uploadedAt | date:'short' }}</td>
            <td>
              <button (click)="download(d)">â¬‡</button>
              <button (click)="delete(d)">ðŸ—‘</button>
            </td>
          </tr>
        </table>

        <p *ngIf="!filteredDocuments.length">
          No documents uploaded.
        </p>
      </section>

    </main>
  </div>
</div>
